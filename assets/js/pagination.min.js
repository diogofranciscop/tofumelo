function loadPage(a,e){let t=window.innerWidth<=768?10:20,n=a*t,i=Math.min(n+t,e.length);loadRecipes(e.slice(n,i)),createPaginationButtons(a,e,t)}function loadRecipes(a){let e=["/assets/img/tofu-forno-batata-pimento-180px.webp","/assets/img/tofu-na-cerveja-180px.webp","/assets/img/tofu-sticky-180px.webp","/assets/img/sopa-feij\xe3o-couve-180px.webp","/assets/img/guisado-soja-180px.webp","/assets/img/caldo-verde-180px.webp","/assets/img/assado-batata-grao-180px.webp","/assets/img/arroz-tomate-com-panados-180px.webp","/assets/img/arroz-sem-pato-180px.webp","/assets/img/sandes-gr\xe3o-bico-180px.webp","/assets/img/tofu-mexido-180px.webp","/assets/img/soja-alentejana-180px.webp"],t=$("#post-container");if(t.children().length>0)return;a.forEach(a=>{let n=$(`
    <div class="card loading-card">
        <div class="card__spinner">
            <div class="spinner"></div>
        </div>
    </div>
`);t.append(n);let i=a.image.replace(/\.(webp|png|jpg|jpeg)$/,"-180px.$1"),o=new Image;o.src=i,o.onload=()=>{if(n.parent().length){let t=e.includes(i)?'loading="lazy"':"",o=$(`
            <a href="${a.url}" class="card">
                <div class="card__overlay">
                    <p>${a.description}</p>
                </div>
                <div class="card__img-container">
                    <img src="${i}" class="card__img" alt="${a.title}" ${t}>
                </div>
                <div class="card__footer">
                    <span class="title-card">${a.title.toUpperCase()}</span>
                </div>
            </a>
        `);n.replaceWith(o)}},o.onerror=()=>{n.parent().length&&n.replaceWith(`
            <div class="card error-card">
                <p>Failed to load the recipe image.</p>
            </div>
        `)}});let n=`
<style>
    .loading-card {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 270px; /* Adjust height as per your card design */
        border: 1px solid #ddd; /* Optional for card outline */
        margin: 10px;
        width:200px;
    }
    .card__spinner {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
    }
    .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(84, 130, 76, 0.2); /* Light green border */
        border-top: 4px solid #54824c; /* Solid green for spinning */
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }
</style>
`;$("head").append(n)}function createPaginationButtons(a,e,t){let n=Math.ceil(e.length/t);$("#pagination-container").empty();let i=$("<button>").text("PRIMEIRA P\xc1GINA").addClass("pagination-button").on("click",()=>{loadPage(0,e),$(window).scrollTop(0)}),o=$("<button>").text("\xdaLTIMA P\xc1GINA").addClass("pagination-button").on("click",()=>{loadPage(n-1,e),$(window).scrollTop(0)}),s=$("<button>").text("←").addClass("pagination-button").on("click",()=>{loadPage(Math.max(0,a-1),e),$(window).scrollTop(0)}),p=$("<button>").text("→").addClass("pagination-button").on("click",()=>{loadPage(Math.min(n-1,a+1),e),$(window).scrollTop(0)});$("#pagination-container").append(i,s),a>2&&$("#pagination-container").append($("<span>").text("1").addClass("pagination-button").on("click",()=>loadPage(0,e))),a>3&&$("#pagination-container").append($("<span>").text("...").addClass("pagination-ellipsis"));for(let d=Math.max(0,a-1);d<=Math.min(n-1,a+1);d++){let l=$("<button>").text(d+1).addClass("pagination-button");d===a&&l.addClass("active"),l.on("click",()=>{loadPage(d,e),$("html, body").animate({scrollTop:0},400,"linear")}),$("#pagination-container").append(l)}a<n-4&&$("#pagination-container").append($("<span>").text("...").addClass("pagination-ellipsis")),a<n-3&&$("#pagination-container").append($("<span>").text(n).addClass("pagination-button").on("click",()=>loadPage(n-1,e))),$("#pagination-container").append(p,o)}