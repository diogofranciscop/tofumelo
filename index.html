---
layout: default
title: Vegan Recipes
---
<div class="wrap-search">
<div class="search">
  <input type="text" class="searchTerm" placeholder="Pesquisa...">
  <button type="submit" class="searchButton">
    <i class="fa fa-search"></i>
 </button>
</div>
</div>
 <!-- HTML !-->
 <div>
  <button class="button-3" data-role="almoço">Almoço e Jantar</button>
  <button class="button-3" data-role="pequeno-almoço">Pequeno Almoço</button>
  <button class="button-3" data-role="entrada">Entradas</button>
  <button class="button-3" data-role="lanche">Lanche</button>
  <button class="button-3" data-role="sobremesa">Sobremesas</button>
</div>

<div class="posts">
  {% for post in site.posts %}
  <a href="{{ post.url }}" class="card" data-type="{{ post.type | join: ',' }}">
    <img src="{{ post.image }}" class="card__img">
    <span class="card__footer">
      <span>{{ post.title }}</span>
      <span>{{ post.description }}</span>
    </span>
    <span class="card__action">
      <svg viewBox="0 0 448 512" title="play">
        <path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" />
      </svg>
    </span>
  </a>
  {% endfor %}
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // Filter posts based on button selections
    function filterPosts() {
        var selectedRoles = [];
        $('.button-3.selected').each(function() {
            selectedRoles.push($(this).data('role'));
        });

        // Get the search term
        var searchTerm = $('.searchTerm').val().toLowerCase();

        $('.card').each(function() {
            var types = $(this).data('type').split(','); // Get the types of the current post
            var title = $(this).find('.card__footer span:first').text().toLowerCase(); // Get the title of the post

            // Show posts if no buttons are selected and the search term is empty
            if (selectedRoles.length === 0 && searchTerm === '') {
                $(this).show(); // Show all posts
            } else if (selectedRoles.length === 0 && title.includes(searchTerm)) {
                $(this).show(); // Show posts matching the search term
            } else if (selectedRoles.some(role => types.includes(role)) && title.includes(searchTerm)) {
                $(this).show(); // Show posts matching selected roles and search term
            } else {
                $(this).hide(); // Hide the post if it does not match
            }
        });
    }

    // Button click handler
    $('.button-3').click(function() {
        $(this).toggleClass('selected');
        filterPosts(); // Call the filter function after toggling selection
    });

    // Search input handler
    $('.searchTerm').on('input', function() {
        filterPosts(); // Call the filter function on input change
    });
});
</script>



